package com.bit.action;

import java.io.IOException;
import java.util.ArrayList;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.http.HttpSession;

import com.bit.dao.BoardDao;
import com.bit.vo.BoardVo;

public class MainAction implements BitAction {

	@Override
	public String pro(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		BoardDao b_dao = new BoardDao();
		
		HttpSession session = request.getSession();
		
		ArrayList<BoardVo> notice = b_dao.listAll(100,"%25EA%25B3%25B5%25EC%25A7%2580%25EC%2582%25AC%25ED%2595%25AD",1,"","");
		ArrayList<BoardVo> freeboard = b_dao.listAll(300,"%25EC%259E%2590%25EC%259C%25A0%25EA%25B2%258C%25EC%258B%259C%25ED%258C%2590",1,"","");
		ArrayList<BoardVo> flee_buy = b_dao.listAll(300,"%25EC%2582%25BD%25EB%258B%2588%25EB%258B%25A4",1,"","");
		ArrayList<BoardVo> flee_sell = b_dao.listAll(300,"%25ED%258C%259D%25EB%258B%2588%25EB%258B%25A4",1,"","");
		ArrayList<BoardVo> anonymous = b_dao.listAll(300,"%25EC%259D%25B5%25EB%25AA%2585%25EA%25B2%258C%25EC%258B%259C%25ED%258C%2590",1,"","");
		
		for(BoardVo vo : notice) {
			String notice2 = vo.getBoard_title();
			System.out.println(notice2);
		}
		
		session.setAttribute("main_notice", notice2);
		session.setAttribute("main_freeboard", freeboard2);
		session.setAttribute("main_flee_buy", flee_buy2);
		session.setAttribute("main_flee_sell", flee_sell2);
		session.setAttribute("main_anonymous", anonymous2);
		
		return "main.jsp";
	}

}
